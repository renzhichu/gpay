<form class="modal-default">
  <div class="modal-header" style="padding:5px;">
    <a href="" class="close" title="关闭"  ng-click="vm.close()"><i class="fa fa-times"></i></a>
    <h4 class="text-left">{{vm.storeinfo.title}}</h4>
  </div>
  <div class="modal-body">
    <div class="form-horizontal form-inline">
      <label>选择要设置的级别:</label>
      <!-- 管控级别 for 门店选择 -->
      <select class="form-control" ng-change="vm.getStoreByControlLevel()" data-ng-show="vm.storeinfo.type == 'output-add' || vm.storeinfo.type == 'output-detail' " data-ng-disabled="vm.storeinfo.type == 'output-detail' "
              ng-options="option.value for option in vm.controlLevel  track by option.key"
              ng-model="vm.filter.controlLevel"></select>
      <!--/ 管控级别 for 门店选择 -->

      <!-- 管控级别 for 等级绑定门店 -->
      <select class="form-control" data-ng-show="vm.storeinfo.type == 'control-add' " ng-change="vm.getStoreByControlLevel()"
              ng-options="option.value for option in vm.controlLevel  track by option.key"
              ng-model="vm.filter.controlLevel"></select>
      <!--/ 管控级别 for 等级绑定门店 -->

    </div>
    <div class="commercial">
      <div class="commercial-left">
        <div class="commercial-left-stores">
          <input type="text" class="form-control" placeholder="请输入门店名称" ng-change="vm.searchStore()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1000, 'blur': 0 } }" ng-model="vm.filterStore.storeName"  ng-disabled="vm.storeinfo.type == 'output-detail'">
        </div>
        <div class="commercial-left-select">
          <select  name="multipleSelect" class="form-control"  multiple
                   ng-options="option.storeViewName for option in vm.stores track by option.storeId"
                   ng-disabled="vm.storeinfo.type == 'output-detail'"
                   ng-model="vm.curSelectedStores"></select>
        </div>
      </div>
      <div class="commercial-center">
        <div class="commercial-center-btn">
          <div class="commercial-center-btn-add">
            <button type="button" class="btn btn-primary btn-sm" data-ng-click="vm.addStores()" ng-disabled="(vm.curSelectedStores).length==0 || vm.storeinfo.type == 'output-detail'">
              添加
            </button>
            <button type="button" class="btn btn-primary btn-sm" data-ng-click="vm.addAllStores()" ng-disabled="(vm.stores).length==0 || vm.storeinfo.type == 'output-detail'">
              添加全部
            </button>
          </div>
          <div class="commercial-center-btn-del">
            <button type="button" class="btn btn-default btn-sm" data-ng-click="vm.delStores()" ng-disabled="(vm.selectedStores).length==0 || vm.storeinfo.type == 'output-detail'">
              删除
            </button>
            <button type="button" class="btn btn-default btn-sm" data-ng-click="vm.delAllStores()" ng-disabled="(vm.allSelectedStores).length==0 || vm.storeinfo.type == 'output-detail'">
              删除全部
            </button>
          </div>
        </div>
      </div>

      <div class="commercial-right">
        <div class="commercial-right-wordcount">
          <span>已选择{{(vm.allSelectedStores).length || 0}}个</span>
        </div>
        <div class="commercial-right-stores">
          <select  name="multipleSelect" class="form-control"  multiple ng-disabled="vm.storeinfo.type == 'output-detail'"
                   ng-options="option.storeViewName for option in vm.allSelectedStores track by option.storeId"
                   ng-model="vm.selectedStores"></select>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">

    <!-- 管控级别 for 门店选择 -->
    <button class="btn btn-primary btn-sm" type="button" ng-disabled="(vm.allSelectedStores).length==0 || vm.storeinfo.type == 'output-detail'" data-ng-show="vm.storeinfo.type == 'output-add' || vm.storeinfo.type == 'output-detail'"
            data-ng-click="vm.saveSelectedStores()">
      保存
    </button>
    <!-- /管控级别 for 门店选择 -->

    <!-- 管控级别 for 等级绑定门店 -->
    <button class="btn btn-primary btn-sm" type="button" data-ng-show="vm.storeinfo.type == 'control-add'"
            data-ng-click="vm.setStoreLevel()">
      保存
    </button>
    <!-- /管控级别 for 等级绑定门店 -->
    <a class="btn btn-primary btn-sm" type="button" ng-click="vm.close()">取消</a>
  </div>
</form>
